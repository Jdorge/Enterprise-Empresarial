# ╔════════════════════════════════════════════════════════════════════════════╗
# ║              ENTERPRISE EMPRESARIAL v2.0.0 - CONFIGURAÇÃO                   ║
# ╠════════════════════════════════════════════════════════════════════════════╣
# ║  INSTRUÇÕES:                                                                ║
# ║  1. Copie este arquivo para .env.local                                      ║
# ║  2. Preencha TODAS as variáveis marcadas como [OBRIGATÓRIO]                ║
# ║  3. NUNCA commite .env.local no Git                                         ║
# ║  4. Use valores seguros para produção                                       ║
# ╚════════════════════════════════════════════════════════════════════════════╝

# ═══════════════════════════════════════════════════════════════════════════════
# 🔧 CONFIGURAÇÃO GERAL
# ═══════════════════════════════════════════════════════════════════════════════

# Ambiente de execução: development | staging | production
ENVIRONMENT=development
NODE_ENV=development

# Nível de log: debug | info | warn | error
LOG_LEVEL=info

# Timezone padrão
TZ=America/Sao_Paulo

# ═══════════════════════════════════════════════════════════════════════════════
# 🔐 SEGURANÇA [OBRIGATÓRIO]
# ═══════════════════════════════════════════════════════════════════════════════

# JWT Secret - Gere com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=

# Encryption Key (32 bytes) - Gere com: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ═══════════════════════════════════════════════════════════════════════════════
# 🗄️ DATABASE - PostgreSQL [OBRIGATÓRIO]
# ═══════════════════════════════════════════════════════════════════════════════

POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=enterprise_db
POSTGRES_USER=admin
POSTGRES_PASSWORD=

# Connection pool
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=10
POSTGRES_SSL=false

# ═══════════════════════════════════════════════════════════════════════════════
# 🔴 REDIS (Cache & Sessions)
# ═══════════════════════════════════════════════════════════════════════════════

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TLS=false

# ═══════════════════════════════════════════════════════════════════════════════
# ⚙️ N8N AUTOMATION [OBRIGATÓRIO]
# ═══════════════════════════════════════════════════════════════════════════════

N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
N8N_WEBHOOK_URL=http://localhost:5678/webhook

# n8n Authentication
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=

# n8n API Key - Obtenha em: n8n Settings → API
N8N_API_KEY=

# n8n Encryption Key
N8N_ENCRYPTION_KEY=

# ═══════════════════════════════════════════════════════════════════════════════
# 📝 NOTION INTEGRATION [OBRIGATÓRIO]
# ═══════════════════════════════════════════════════════════════════════════════

# API Token - Obtenha em: https://www.notion.so/my-integrations
# Formato: secret_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NOTION_SECRET=

# API Version
NOTION_VERSION=2022-06-28

# Database IDs (encontre na URL do database)
# Formato: 32 caracteres hexadecimais
NOTION_AUDIT_DB_ID=
NOTION_LEADS_DB_ID=
NOTION_TASKS_DB_ID=
NOTION_KNOWLEDGE_DB_ID=
NOTION_FINANCIAL_DB_ID=
NOTION_MONITORING_DB_ID=

# ═══════════════════════════════════════════════════════════════════════════════
# 📊 HUBSPOT CRM [OBRIGATÓRIO para SW1_LEADS]
# ═══════════════════════════════════════════════════════════════════════════════

# API Key - Obtenha em: Settings → Integrations → Private Apps
# Formato: pat-na1-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
HUBSPOT_API_KEY=

# Portal & Owner IDs
HUBSPOT_PORTAL_ID=
HUBSPOT_OWNER_ID=

# Pipeline Configuration
HUBSPOT_SALES_PIPELINE_ID=default
HUBSPOT_DEAL_STAGE_NEW=appointmentscheduled
HUBSPOT_DEAL_STAGE_QUALIFIED=qualifiedtobuy
HUBSPOT_DEAL_STAGE_WON=closedwon
HUBSPOT_DEAL_STAGE_LOST=closedlost

# ═══════════════════════════════════════════════════════════════════════════════
# 💬 SLACK INTEGRATION [OBRIGATÓRIO]
# ═══════════════════════════════════════════════════════════════════════════════

# Bot Token - Obtenha em: https://api.slack.com/apps → OAuth & Permissions
# Formato: xoxb-XXXXXXXXXXXX-XXXXXXXXXXXX-XXXXXXXXXXXXXXXXXXXXXXXX
SLACK_BOT_TOKEN=

# Signing Secret - Para verificar webhooks
SLACK_SIGNING_SECRET=

# App Token (Socket Mode) - Formato: xapp-X-XXXXXXXXXXX-XXXXXXXXXXXX-XXXX...
SLACK_APP_TOKEN=

# Channel IDs (Clique direito no canal → Copy link → ID é a última parte)
SLACK_CHANNEL_ALERTS=
SLACK_CHANNEL_LEADS=
SLACK_CHANNEL_OPS=
SLACK_CHANNEL_FINANCE=
SLACK_CHANNEL_GENERAL=

# ═══════════════════════════════════════════════════════════════════════════════
# 🤖 AI & LLM PROVIDERS
# ═══════════════════════════════════════════════════════════════════════════════

# OpenRouter (Unified API) - Obtenha em: https://openrouter.ai/keys
OPENROUTER_API_KEY=

# OpenAI - Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=
OPENAI_ORG_ID=
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic - Obtenha em: https://console.anthropic.com/
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-opus-20240229

# Google AI - Obtenha em: https://makersuite.google.com/app/apikey
GOOGLE_AI_API_KEY=
GOOGLE_AI_MODEL=gemini-pro

# Perplexity - Obtenha em: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=

# AI Configuration
AI_DEFAULT_PROVIDER=openrouter
AI_MAX_TOKENS=4096
AI_TEMPERATURE=0.7
AI_TIMEOUT_MS=30000

# ═══════════════════════════════════════════════════════════════════════════════
# 📧 EMAIL (SMTP)
# ═══════════════════════════════════════════════════════════════════════════════

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_NAME=Enterprise Empresarial
SMTP_FROM_EMAIL=noreply@enterprise.com

# ═══════════════════════════════════════════════════════════════════════════════
# 📊 GOOGLE SERVICES (Sheets/Drive/Calendar)
# ═══════════════════════════════════════════════════════════════════════════════

# Service Account - Obtenha em: https://console.cloud.google.com/
GOOGLE_SERVICE_ACCOUNT_EMAIL=
GOOGLE_PRIVATE_KEY=

# Spreadsheet IDs
GOOGLE_SPREADSHEET_LEADS_ID=
GOOGLE_SPREADSHEET_FINANCE_ID=
GOOGLE_SPREADSHEET_REPORTS_ID=

# ═══════════════════════════════════════════════════════════════════════════════
# ⏱️ TEMPORAL (Durable Execution)
# ═══════════════════════════════════════════════════════════════════════════════

TEMPORAL_HOST=temporal
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=enterprise-queue

# Temporal UI
TEMPORAL_UI_PORT=8088

# ═══════════════════════════════════════════════════════════════════════════════
# 🔍 QDRANT (Vector Database)
# ═══════════════════════════════════════════════════════════════════════════════

QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_KNOWLEDGE=knowledge_base
QDRANT_COLLECTION_LEADS=lead_embeddings

# ═══════════════════════════════════════════════════════════════════════════════
# 📈 MONITORING & OBSERVABILITY
# ═══════════════════════════════════════════════════════════════════════════════

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=30d

# Grafana [OBRIGATÓRIO]
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=
GRAFANA_ALLOW_SIGNUP=false

# Alertmanager
ALERTMANAGER_PORT=9093

# Loki (Logs)
LOKI_PORT=3100

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ═══════════════════════════════════════════════════════════════════════════════
# 🏢 BUSINESS RULES
# ═══════════════════════════════════════════════════════════════════════════════

# Lead Scoring
LEAD_SCORE_THRESHOLD_HOT=70
LEAD_SCORE_THRESHOLD_WARM=40
AUTO_ASSIGN_LEADS=true
LEAD_ASSIGNMENT_STRATEGY=round_robin

# Working Hours (for lead routing)
WORKING_HOURS_START=09:00
WORKING_HOURS_END=18:00
WORKING_DAYS=1,2,3,4,5

# Financial
FINANCIAL_HIGH_VALUE_THRESHOLD=10000
FINANCIAL_DEFAULT_CURRENCY=BRL
FINANCIAL_TAX_RATE=0.15

# Tasks
TASK_SLA_CRITICAL_HOURS=4
TASK_SLA_HIGH_HOURS=24
TASK_SLA_MEDIUM_HOURS=72
TASK_SLA_LOW_HOURS=168

# ═══════════════════════════════════════════════════════════════════════════════
# 🔄 BACKUP & RECOVERY
# ═══════════════════════════════════════════════════════════════════════════════

BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE_CRON=0 2 * * *
BACKUP_STORAGE_PATH=/backups
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=

# ═══════════════════════════════════════════════════════════════════════════════
# 🚀 FEATURE FLAGS
# ═══════════════════════════════════════════════════════════════════════════════

ENABLE_AUDIT_LOGS=true
ENABLE_TELEMETRY=false
ENABLE_SLACK_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_AI_FEATURES=true
ENABLE_VECTOR_SEARCH=true
ENABLE_AUTO_RETRY=true
ENABLE_RATE_LIMITING=true

# Retry Configuration
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000
RETRY_BACKOFF_MULTIPLIER=2

# ═══════════════════════════════════════════════════════════════════════════════
# 💰 COST CONTROL
# ═══════════════════════════════════════════════════════════════════════════════

MAX_DAILY_COST_USD=100
COST_ALERT_THRESHOLD_USD=50
COST_TRACKING_ENABLED=true
